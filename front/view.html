<!DOCTYPE html>
<html>
<head>
    <title>FastAPI POST Request</title>
    <style>
        body {
            display: grid;
            place-items: center;
            height: 100vh;
            margin: 0;
        }
        .content {
            text-align: center;
        }
    </style>
</head>
<body >
    <h1>A que ODS pertenece?</h1>
    <textarea id="inputData" placeholder="Enter input data"></textarea>
    <button id="submitButton">Submit</button>
    <p id="result"></p>

    <script>
        document.getElementById("submitButton").addEventListener("click", function() {
            const inputData = document.getElementById("inputData").value;
            const requestBody = {
                input_string: inputData
            };

            fetch('/convert',  JSON.stringify(requestBody)
            )
            .then(response => {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error('Request failed');
                }
            })
            .then(data => {
                // Handle the response data
                const resultElement = document.getElementById("result");
                resultElement.textContent = `Predicted Result: ${data.predict}`;
            })
            .catch(error => {
                console.error('Error:', error);
                const resultElement = document.getElementById("result");
                resultElement.textContent = 'Error occurred during the request.';
            });
        });
    </script>
</body>
</html>
